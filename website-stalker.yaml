# This is an example config
# The filename should be `website-stalker.yaml`
# and it should be in the working directory where you run website-stalker.
#
# For example run `website-stalker example-config > website-stalker.yaml`.
# And then do a run via `website-stalker run`.
---
notification_template: |
  {{#sites}}
  - {{.}}
  {{/sites}}

  {{#commit}}
  https://github.com/EdJoPaTo/website-stalker-example/commit/{{.}}
  {{/commit}}

sites:
  # Basic example
  - url: "https://edjopato.de/"
    editors:
      - html_prettify

  # Example with css selector
  - url: "https://rain-brainz.de/"
    editors:
      - css_select: main a img
      - html_prettify

  # Example with html_textify
  - url: "https://edjopato.de/impressum/"
    editors:
      - css_select: h1
      - html_textify

  # Example with html_markdownify
  - url: "https://edjopato.de/post/2020/09/16-zsh/"
    editors:
      - css_select: .content
      - html_markdownify

  # Example of a text only entry
  - url: "https://edjopato.de/robots.txt"

  # Example with RSS
  - url: "https://edjopato.de/post/"
    editors:
      - rss:
          title: EdJoPaTos Blog
          item_selector: main .content li
          title_selector: a
          link_selector: a
          content_editors:
            - html_textify


  - url: "https://wiki.gnome.org/Schedule"
    editors:
      - css_select: "#content"
      - html_markdownify
  - url: "https://www.raspberrypi.com/software/operating-systems/"
    editors:
      - css_select: main
      - css_remove: img
      - html_markdownify
  - url: "https://raspi.debian.net/tested-images/"
    editors:
      - css_select: "#content"
      - css_remove: .filedata
      - html_prettify
  - url: "https://files.teamspeak-services.com/releases/server/"
    editors:
      - html_prettify
  - url: "https://us.diablo3.blizzard.com/en-us/"
    editors:
      - rss:
          item_selector: .article-wrapper
          content_editors:
            - css_select: .article-content
            - css_remove: h2
            - html_textify
  - url: "https://www.thatskygame.com/news/"
    editors:
       - rss:
          title: Sky Game News
          item_selector: article.article
          title_selector: h1
          content_editors:
            - css_select: .article-content
            - css_remove: h1
            - html_prettify
  - url: "https://github.com/actions/virtual-environments/labels/Announcement"
    editors:
      - rss:
          title: GitHub Actions virtual-environments Announcements
          item_selector: .js-issue-row
          title_selector: a
          content_editors:
            - css_select: .labels, .opened-by
            - html_textify
  - url: "https://blinry.org/"
    editors:
      - css_select: .box
      - html_prettify
  - url:
      - "https://jonas.lol/"
      - "https://jonas.lol/projects/"
    editors:
      - css_select: body
      - css_remove: "script, img"
      - html_url_canonicalize
      - html_markdownify
  - url: "https://opentalk.eu/de/news-presse"
    ignore_error: true
    editors:
      - rss:
          title: OpenTalk
          item_selector: .grid article
          title_selector: h3
          content_editors:
            - css_select: article > div
            - html_prettify

  - url:
      - "https://www.conventionalcommits.org/en/"
      - "https://keepachangelog.com/en/"
    editors:
      - html_prettify
  - url:
      - "https://www.conventionalcommits.org/en/v1.0.0/"
      - "https://keepachangelog.com/en/1.1.0/"
    editors:
      - css_remove: nav.locales
      - css_select: article
      - html_markdownify

  - url:
      - "https://www.apple.com/"
      - "https://www.apple.com/de/"
    editors:
      - css_select: nav
      - html_url_canonicalize
      - html_markdownify
  - url:
      - "https://www.apple.com/sitemap/"
      - "https://www.apple.com/de/sitemap/"
      - "https://www.apple.com/mac/"
      - "https://www.apple.com/ipad/"
      - "https://www.apple.com/iphone/"
      - "https://www.apple.com/watch/"
      - "https://www.apple.com/airpods/"
      - "https://www.apple.com/tv-home/"
      - "https://www.apple.com/services/"
      - "https://www.apple.com/airtag/"
      - "https://www.apple.com/icloud/"
      - "https://www.apple.com/accessibility/"
      - "https://www.apple.com/environment/"
      - "https://www.apple.com/diversity/"
      - "https://www.apple.com/privacy/"
      - "https://www.apple.com/apple-events/"
      - "https://www.apple.com/healthcare/"
      - "https://www.apple.com/healthcare/apple-watch/"
      - "https://www.apple.com/healthcare/health-records/"
      - "https://www.apple.com/apple-pay/"
      - "https://www.apple.com/de/apple-pay/"
      - "https://www.apple.com/macos/monterey/"
      - "https://www.apple.com/ipados/ipados-15/"
      - "https://www.apple.com/ios/ios-15/"
      - "https://www.apple.com/watchos/watchos-8/"
      - "https://opensource.apple.com/"
      - "https://opensource.apple.com/projects/"
    editors:
      - css_select: main
      - css_remove: noscript, img, picture, .footnote, .ribbon, .services-subsection, .apple-one-tile, .section-retail, *[data-analytics-activitymap-region-id~=ribbon]
      - html_url_canonicalize
      - html_markdownify
  - url:
      - "https://www.apple.com/mac/compare/"
      - "https://www.apple.com/ipad/compare/"
      - "https://www.apple.com/iphone/compare/"
      - "https://www.apple.com/airpods/compare/"
    editors:
      - css_select: "#backport-data"
      - css_remove: noscript, img, picture, .footnote, .ribbon, *[data-analytics-activitymap-region-id~=ribbon]
      - html_url_canonicalize
      - html_prettify
  - url: "https://www.apple.com/watch/compare/"
    editors:
      - css_select: main
      - css_remove: noscript, img, picture, .footnote, .ribbon, *[data-analytics-activitymap-region-id~=ribbon]
      - html_url_canonicalize
      - html_prettify
  - url: "https://beta.apple.com/sp/betaprogram"
    editors:
      - css_select: .content
      - html_url_canonicalize
      - html_markdownify

  - url:
      - "https://www.netcup-sonderangebote.de/"
      - "https://www.netcup.de/adventskalender/"
      - "https://www.netcup.de/vserver/"
      - "https://www.netcup.de/vserver/root-server-erweiterungen.php"
      - "https://www.netcup.de/vserver/uebersicht_vserver_angebote.php"
      - "https://www.netcup.de/vserver/vps.php"
      - "https://www.netcup.de/vserver/vstorage.php"
    editors:
      - css_select: .card, table
      - css_remove: img, .card--content--image
      - html_url_canonicalize
      - html_prettify
  - url: "https://www.netcup.de/vserver/storagespace.php"
    editors:
      - css_remove: img, .main-navigation-wrapper
      - css_select: main > .container
      - html_url_canonicalize
      - html_prettify
  - url: "https://www.netcup.de/vserver/vserver_images.php"
    editors:
      - css_select: table
      - html_url_canonicalize
      - html_prettify


  - url: "https://www.hetzner.com/news/"
    ignore_error: true
    editors:
      - rss:
          item_selector: .list-card li
          title_selector: h4
          content_editors:
            - html_prettify
  - url: "https://www.hetzner.com/presse-berichte/"
    editors:
      - rss:
          item_selector: .list-news li
          title_selector: h4
          content_editors:
            - html_prettify

  - url:
      - "https://pine64.com/product-category/single-board-computers/"
      - "https://pine64.com/product-category/quartz64/"
      - "https://pine64.com/product-category/laptops/"
      - "https://pine64.com/product-category/smartphones/"
      - "https://pine64.com/product-category/tablets/"
      - "https://pine64.com/product-category/pinecil/"
      - "https://pine64.com/product-category/iot/"
      - "https://pine64.com/product-category/pinepower/"
    editors:
      - css_select: .product
      - css_remove: img, a.button, .woocommerce-Price-currencySymbol
      - regex_replace:
          pattern: h\d
          replace: span
      - html_markdownify
      - regex_replace:
          pattern: \[([^\]]+)\]\(
          replace: "\n[$1]("
  - url: "https://www.pine64.org/availability-and-shipping-status/"
    editors:
      - css_select: .elementor-widget-wrap
      - css_remove: .elementor-spacer, .elementor-widget-image, .elementor-title, .elementor-progress-bar
      - regex_replace:
          pattern: <div[^>]+valuenow="(\d+)[^>]+>[^<]*<.div>
          replace: $1 %
      - html_markdownify

  - url: "https://www.wdrmaus.de/aktuelle-sendung/"
    editors:
      - css_select: "#content"
      - html_prettify
  - url: "https://www.wdrmaus.de/extras/"
    editors:
      - css_select: "#content"
      - css_remove: "script, img, .promoteaser, #footer"
      - html_url_canonicalize
      - html_markdownify
  - url:
      - "https://www.wdrmaus.de/extras/mausthemen/corona/"
      - "https://www.wdrmaus.de/extras/mausthemen/ukraine/"
    editors:
      - css_select: "#content"
      - css_remove: "script, img, .promoteaser, #footer, .imagecontainer, .imageSlider"
      - html_url_canonicalize
      - html_markdownify
  - url: "https://www.wdrmaus.de/filme/sachgeschichten/?filter=alle"
    editors:
      - css_select: ".links"
      - css_remove: "script, img"
      - html_url_canonicalize
      - html_markdownify

  - url: "https://telegram.org/blog"
    editors:
      - rss:
          item_selector: ".dev_blog_card_link_wrap"
          title_selector: h4
          content_editors:
            - html_prettify
  - url: "https://core.telegram.org/bots"
    editors:
      - css_select: ".container .dev_page"
      - html_markdownify
  - url: "https://core.telegram.org/bots/api"
    editors:
      - css_select: ".container .dev_page"
      - html_prettify

  - url: "https://docs.bigbluebutton.org/"
    editors:
      - css_select: "#navigation, #content"
      - html_url_canonicalize
      - html_markdownify
  - url:
      - "https://docs.bigbluebutton.org/2.3/install.html"
      - "https://docs.bigbluebutton.org/2.3/new.html"
      - "https://docs.bigbluebutton.org/2.4/install.html"
      - "https://docs.bigbluebutton.org/2.4/new.html"
      - "https://docs.bigbluebutton.org/2.5/install.html"
      - "https://docs.bigbluebutton.org/2.5/new.html"
      - "https://docs.bigbluebutton.org/admin/privacy.html"
    editors:
      - css_select: "#content"
      - html_url_canonicalize
      - html_markdownify

  - url: "https://www.der-metronom.de/aktuell/"
    editors:
      - rss:
          title: Metronom Aktuell
          item_selector: "#content .right .box"
          content_editors:
            - css_select: time, .news-text-outer
            - css_remove: a.news-more
            - html_url_canonicalize
            - html_prettify
  - url:
      - "https://www.der-metronom.de/fahrkarten/9-euro-ticket/"
      - "https://www.der-metronom.de/fahrkarten/befoerderungsbedingungen/"
      - "https://www.der-metronom.de/fahrplan/baustellen-uebersicht/"
    editors:
      - css_select: "#content .right"
      - css_remove: form, script, .img-left
      - html_url_canonicalize
      - html_markdownify

  - url: https://www.engelbert-strauss.de/
    editors:
      - css_select: body
      - css_remove: img, script, style, header, .imagemap
      - html_url_canonicalize
      - html_markdownify
  - url: https://www.engelbert-strauss.de/Unternehmen/Presse/Presseberichte
    editors:
      - rss:
          title: Engelbert Strauss
          item_selector: .press-release
          content_editors:
            - css_remove: h2, .icon-button-list, .show-more-button
            - html_url_canonicalize
            - html_prettify
  - url: https://purpose-economy.org/en/
    editors:
      - css_remove: style, script, img
      - html_markdownify
  - url:
      - https://purpose-economy.org/en/media-press/
      - https://purpose-economy.org/en/ressources/
    editors:
      - css_select: main
      - css_remove: style, script, img
      - html_markdownify
  - url: https://purpose-economy.org/en/companies/
    editors:
      - css_select: article
      - css_remove: .teaser_image, .teaser_link_text
      - html_markdownify
      - regex_replace:
          pattern: \) \[
          replace: ")\n["

  - url:
      - "https://www.steamdeck.com/en/"
      - "https://www.steamdeck.com/en/hardware"
      - "https://www.steamdeck.com/en/software"
      - "https://www.steamdeck.com/en/verified"
      - "https://www.steamdeck.com/en/faq"
      - "https://www.steamdeck.com/en/tech"
    editors:
      - css_select: "#content"
      - css_remove: "video, img, .footnote, .home, .verified_app_card"
      - html_markdownify
